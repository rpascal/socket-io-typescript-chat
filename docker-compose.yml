version: '2.1'

services:
  client:
    build: client
    ports:
      - "4200:80"
  server:
    build: server
    environment:
       PORT : 8080
    restart: always
    ports:
      - 8080:8080
    # links:
    #     - mongodb
    # depends_on:
    #     - mongodb
  # mongodb:
  #     image: mongo:latest
  #     container_name: "mongodb"
  #     environment:
  #       - MONGO_DATA_DIR=/data/db
  #       - MONGO_LOG_DIR=/dev/null
  #       - MONGODB_USER="user" 
  #       - MONGODB_PASS="pass"
  #     volumes:
  #       - ./data/db:/data/db
  #     ports:
  #         - 27017:27017
  #     command: mongod --smallfiles --logpath=/dev/null # --quiet